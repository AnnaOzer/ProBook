XDebug: как начать пользоваться отладкой в php

между теми, кто умеет пользоваться отладкой и теми, кто не умеет -
грань между профессиональными программистами и программистами-любителями
 __                           __
|                               |
об отладке приложений на php:
- установка расширения
- настройка PHPStorm
- трассировка
- удаленная отладка
- профайлинг
- покрытие кода тестами
- настройка на docker
|__                           __|

de+bug легенда гласит, что в одном из первых электронных компьютеров случился сбой,
оказалось, что в одном из элементов случилось короткое замыкание,
и поэтому он работал неверно. Замыкание случилось из-за маленького жучка.
С тех пор процесс отладки и поиска ошибок в коде стали шутливо называть
в англоязычной среде debug, т.е. устранение жуков, залетевших в электронные схемы.

Отладка - цикл, предполагающий:
- поиск проблемы в коде
- анализ поведенияи кода, устранение
- повторный запуск кода чтобы понять, устранена проблема или нет

Дебаггер - специальная программа для отладки других программ.

Дебаггер позволяет управлять работой другой программы.
Что значит управлять? Остановить ее в каком-то месте,
- вы запускаете программу, которую исследуете
- даете дебаггеру команду "останови ее на этой строчке кода"
интересна возможность проанализировать, что у вас внутри программы происходит в момент остановки
посмотреть, что у программы в памяти в момент остановки
- и продолжить ее работу
Такие простейшие дебаггеры были еще на 8битных компьютерах, спектрумах

Полноценная отладка приложений без дебаггера невозможна.
Но можно, что лишь имитация отладки, ставить вардампы, и в ларавеле есть функция дд
(dump and die, выведи мне дамп и остановись в этом месте).
У программы на php очень короткий цикл, ей не нужно die

XDebug - дебаггер для php
- Реализован не в виде отдельной программы, а в виде расширения для php
- Когда запускаете процесс php, вместе с ним запускается XDebug
Как это происходит:
  -- прилетел запрос, request
  -- запустился процесс php, и xdebug
  -- этот процесс сам по себе открывает соединениеи с вашей IDE
  xdebug как отладчик своего интерфейса не имеет,
  единственный способ с ним общаться - это по сетевому соединению
- Есть специальный протокол DBGP, debug protocol
он достаточно универсальный и не только к xdebug относится.
XDebug пытается установить связь с вашей IDE по специальному протоколу DBGP.
- Связь по DBGP двусторонняя, обмен по сети через порт 9000 для IDE, порт 80 для PHP/XDebug
  -- в IDE идет передача отладочной информации (по ее запросам)
  -- от IDE передача команд (типа остановка, продолжение работы)
  -- когда вы исследование заканчиваете, по этому же протоколу DBGP даете команду
"всё давай отпусти и продолжи этот процесс до конца",
ваша программа выполняется до конца, и, наконец, идет ответ клиенту
- Расширение управляет выполнением кода PHP
