как запустить контейнер

php -S 0.0.0.0:8080
часть команды как запустить встроенный в php сервер без apache или nginx
если php локально установлен, можно и без docker запустить:
- запустить команду в консоли в какой-то папочке
- открыть в браузере localhost:8080

docker run указываем_образ
пример
docker run php:8.1-cli
если локально образ не найден, то он скачается и ляжет в локальный репозиторий,
при последующих запусках качаться не будет и возьмется из локального репозитория

пример
docker run php:8.1-cli php -S 0.0.0.0:8080
хотим, чтобы внутри контейнера выполнилась команда
сервер запустился, но в браузере по адресу Localhost:8080 ничего не увижу,
потому что контейнер запустился в изолированном окружении и к нему нет доступа по сети

пример
docker run -p 8080:8080 php:8.1-cli php -S 0.0.0.0:8080
хотим проколоть оболочку контейнера и сделать проброс портов
-p внутренний_порт:внешний_порт
по адресу localhost:8080 встроенный веб-сервер работает в контейнере
в консоли видим логи

пример
docker run -p 8080:8080 php:8.1-cli php -S 0.0.0.0:8080
хотим прокинуть внутрь изолированного контейнера файлы
для этого есть монтирование папок
-v папка_на_локальном_компьютере:папка_внутри_контейнера
хотим указать рабочую папку
-w рабочая_папка_внутри_контейнера
например /app   эта папка будет создана внутри контейнера если не существовала

пример
docker run -p 8080:8080 -v /home/phil/Projects/webinar-docker/:/app php:8.1-cli php -S 0.0.0.0:8080
маппинг папок на компе Mac
пример
docker run -p 8080:8080 -v /c/PROFIT/albertus/01/:/app php:8.1-cli php -S 0.0.0.0:8080
реально запустилось у меня, но повисала консоль

пример
хотим добавить рабочую папку -w /app
это значит, что рабочей папкой для процесса, который будет запускаться, будет /app
эта опция создаст папку, если внутри контейнера ее не было
docker run -p 8080:8080 -v /c/PROFIT/albertus/01/:/app -w /app php:8.1-cli php -S 0.0.0.0:8080
в Windows Power Shell это пример работает, видны файлы смапленные в контейнер
(не скопированы, шаринг случился), но виснет консоль
в браузере через localhost:8080 работает скрипт index.php из папки ...../01/
а в Git Bash Here этот же пример дает ошибку
docker: Error response from daemon: the working directory 'C:/Program Files/Git/app' is invalid, it needs to be an absolute path.
See 'docker run --help'.

пример (самый крутой тут)
docker run -p 8080:8080 -v /c/PROFIT/albertus/01/:/app -w /app -d php:8.1-cli php -S 0.0.0.0:8080
-d хотим отвязать происходящее от консоли
пример сработал, консоль не зависла, но выдала странное на команду pwd:
C:\OpenServer\domains\lesson1.local
в другой раз выдал нормальное на pwd:
C:\PROFIT\albertus\01

пример
`pwd` хотим покороче записать папку, из которой маппить
это путь до текущей папки, в бэк кавычках - где буква ё
docker run -p 8080:8080 -v `pwd`:/app -w /app -d php:8.1-cli php -S 0.0.0.0:8080
должно работать в линуксе или Git for windows для `pwd`, но в нм у меня не работает -w /app,
так что этот пример у меня не работал

пример
хотим задать имя контейнеру
--name=myapp
docker run -d --name=myapp -p 8080:8080 -v /c/PROFIT/albertus/01/:/app -w /app php:8.1-cli php -S 0.0.0.0:8080
зачем нужно имя - вместо ID по нему можно обращяться, если хотите
пример
docker stop myapp

docker ps
показывает список запущенных сейчас контейнеров

docker stop ID_контейнера
остановит указанный контейнер
docker ps - уже не увидим контейнер в списке, и localhost:8080 не будет показывать что раньше